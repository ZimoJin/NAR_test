<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restriction Enzyme Cloning - PrimerWeaver</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 40px auto;
            padding: 20px;
            color: #333;
            background: #f9fafb;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #1e40af;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #2563eb;
            margin-top: 2em;
            margin-bottom: 1em;
            font-size: 1.5em;
        }
        h3 {
            color: #3b82f6;
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            font-size: 1.2em;
        }
        h4 {
            color: #60a5fa;
            margin-top: 1.2em;
            margin-bottom: 0.6em;
        }
        p {
            margin-bottom: 1em;
            text-align: justify;
        }
        ul, ol {
            margin-left: 25px;
            margin-bottom: 1em;
        }
        li {
            margin-bottom: 0.5em;
        }
        strong {
            color: #1e40af;
            font-weight: 600;
        }
        code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #c2410c;
        }
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1em 0;
        }
        pre code {
            background: transparent;
            color: inherit;
            padding: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5em 0;
            font-size: 0.95em;
        }
        th, td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #f1f5f9;
            color: #1e40af;
            font-weight: 600;
        }
        tr:nth-child(even) {
            background: #f8fafc;
        }
        .abstract {
            background: #eff6ff;
            border-left: 4px solid #2563eb;
            padding: 20px;
            margin: 2em 0;
            border-radius: 4px;
        }
        .abstract p {
            margin: 0;
            font-style: italic;
        }
        .info-box {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 16px;
            margin: 1.5em 0;
            border-radius: 4px;
        }
        .warning-box {
            background: #fffbeb;
            border-left: 4px solid #f59e0b;
            padding: 16px;
            margin: 1.5em 0;
            border-radius: 4px;
        }
        .section {
            margin-bottom: 2.5em;
        }
        .version-info {
            text-align: center;
            color: #64748b;
            font-size: 0.9em;
            margin-top: 3em;
            padding-top: 2em;
            border-top: 1px solid #e2e8f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Restriction Enzyme Cloning Primer Designer</h1>
        
        <div class="abstract">
            <p>The Restriction Enzyme Cloning module enables the design of primers for directional cloning using restriction enzymes. This tool automates the creation of primers that add restriction sites at both ends of a DNA fragment, enabling controlled directional insertion into restriction-digested vectors. This classical cloning approach remains widely used for simple constructs and provides a reliable, cost-effective method for plasmid construction.</p>
        </div>

        <div class="section">
            <h2>Quick Start Guide</h2>
            <ol>
                <li>Upload or paste your destination vector and insert sequences into the corresponding input fields. Select the desired restriction enzyme set, verify the automatically detected vector backbone, and adjust design parameters if necessary.</li>
                <li>Click “Design Primers” to generate primers with added restriction sites. Review the primer sequences (with restriction sites highlighted), Tm values, and QC metrics. Download the assembled FASTA file to verify that the insert orientation matches the intended design. If the orientation is incorrect, reverse-complement the insert sequence and regenerate the primers.</li>
            </ol>
        </div>

        <div class="section">
            <h2>Restriction Enzyme Cloning Principle</h2>
            
            <p>Restriction enzyme cloning uses <strong>Type II restriction endonucleases</strong> to generate compatible <strong>sticky or blunt ends</strong> on both the insert and vector, followed by covalent joining of DNA ends using <strong>T4 DNA ligase</strong>. In general, <strong>sticky-end ligation is significantly more efficient than blunt-end ligation</strong>, as cohesive overhangs promote correct annealing prior to ligation, whereas blunt-end ligation relies solely on random end collisions and is therefore less efficient.</p>
            <p>Single enzyme digestion uses one restriction enzyme to cut both the insert and vector. This strategy is simple but allows the insert to ligate in either orientation and increases the risk of vector self-ligation, particularly in blunt-end cloning. In single-enzyme digestion, <strong>vector dephosphorylation</strong> can be applied to reduce self-ligation and improve cloning efficiency.</p>
	    <p><strong>Double enzyme digestion</strong> employs two different restriction enzymes to generate <strong>non-compatible ends</strong> at each end of the insert and vector. This approach enforces <strong>directional cloning</strong>, reduces background from vector self-ligation, and generally yields higher cloning efficiency. As a result, double digestion with sticky ends is the preferred strategy for most restriction cloning applications.</p>
            
           <div style="text-align: center; margin: 2em 0;">
  		<img
    			src="app/modules/contents/pictures/RE_cloning/RE_1insert_2sticky_end.svg"
   			alt="Restriction enzyme cloning with double sticky ends"
    			style="max-width: 60%; height: auto; border-radius: 8px;"
  		 >
	   </div>


            
        <div class="section">
            <h2>Input Format</h2>
            <p>Both vector and insert inputs accept <strong>FASTA or plain text format</strong>. Only <strong>one sequence</strong> is allowed per input field; if multiple FASTA headers are detected, <strong>only the first sequence</strong> will be used. </p>
            <p>PrimerWeaver currently supports approximately <strong>100 built-in Type II restriction enzymes</strong>. Once a vector sequence is provided, the system <strong>automatically identifies vector features</strong> and displays the positions of all <strong>single-cut restriction enzyme sites</strong>. The vector map can be rotated to facilitate visualization of the targeted cloning region.</p>

            <div style="display: flex; justify-content: center; gap: 2em; margin: 2em 0; flex-wrap: wrap;">
                <img src="contents/pictures/vector_fasta.png" alt="Vector FASTA input example" style="max-width: 45%; height: auto; border-radius: 8px;">
                <img src="contents/pictures/vector_map.png" alt="Vector map visualization" style="max-width: 45%; height: auto; border-radius: 8px;">
            </div>

        <div class="section">
            <h2>Design Parameters</h2>
		<p>Please select the preferred restriction enzymes from the dropdown list or search by enzyme name. Once <strong>two restriction enzymes</strong> are selected, the system automatically identifies the <strong>longest digestion fragment</strong> as the destination vector backbone. If the longest fragment does not correspond to the intended vector backbone, you may manually select the appropriate fragment.Please review the primer design parameters before proceeding, and modify them if necessary.<p>
            
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Default</th>
                        <th>Range</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Restriction enzyme 1</strong></td>
                        <td>None</td>
                        <td>Any supported enzyme</td>
                        <td>Restriction enzyme site added at 5' end of insert.</td>
                    </tr>
                    <tr>
                        <td><strong>Restriction enzyme 2</strong></td>
                        <td>None</td>
                        <td>Any supported enzyme</td>
                        <td>Restriction enzyme site added at 3' end of insert.</td>
                    </tr>
                    <tr>
                        <td><strong>Target Tm (°C)</strong></td>
                        <td>55</td>
                        <td>40–75</td>
                        <td>Target melting temperature for template-binding region (excluding restriction site).</td>
                    </tr>
                    <tr>
                        <td><strong>Primer Conc. (nM)</strong></td>
                        <td>500</td>
                        <td>50–2000</td>
                        <td>Primer concentration for Tm calculation.</td>
                    </tr>
                    <tr>
                        <td><strong>Na⁺ Conc. (mM)</strong></td>
                        <td>50</td>
                        <td>0–200</td>
                        <td>Monovalent cation concentration.</td>
                    </tr>
                    <tr>
                        <td><strong>Mg²⁺ Conc. (mM)</strong></td>
                        <td>2.0</td>
                        <td>0–10</td>
                        <td>Divalent cation concentration.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Results and Output</h2>
            
            <h3>Primer Table</h3>
            <p>Comprehensive display showing:</p>
            <ul>
                <li>Primer name (Forward and Reverse)</li>
                <li>Full sequence with restriction sites highlighted in brackets or color</li>
                <li>Restriction enzyme name</li>
                <li>Template binding region Tm and overall Tm</li>
                <li>Length, GC content, and quality badges</li>
            </ul>

            <h3>Insert Sequence with Sites</h3>
            <ul>
                <li>Original insert sequence</li>
                <li>Flanked by predicted restriction sites (5' and 3')</li>
                <li>Shows expected after restriction digestion of PCR product</li>
                <li>Useful for verification</li>
            </ul>

            <h3>Cloning Map</h3>
            <ul>
                <li>Diagram showing 5' and 3' restriction sites</li>
                <li>Primer binding regions highlighted</li>
                <li>Shows orientation of insert after cloning</li>
            </ul>

            <h3>Protocol Recommendations</h3>
            <ul>
                <li>PCR conditions based on primer Tm</li>
                <li>Restriction enzyme names and cutting buffers</li>
                <li>Ligation conditions and vector:insert molar ratios</li>
            </ul>
        </div>










        <div class="section">
            <h2>Primer Design Algorithm</h2>
            
            <h3>Primer Structure</h3>
            <p>Each primer consists of three functional regions:</p>
            <ul>
                <li><strong>Restriction Site:</strong> Recognition sequence for restriction enzyme (5-8 bp)</li>
                <li><strong>Spacer/Linker:</strong> Optional 0-2 nucleotides between restriction site and template binding region</li>
                <li><strong>Template Binding Region:</strong> Sequence complementary to template DNA (usually 18-30 bp)</li>
            </ul>

            <h3>Design Process</h3>
            <ol>
                <li><strong>Add Restriction Sites:</strong>
                    <ul>
                        <li>Forward primer: 5' end gets 5' restriction enzyme site + template binding region from insert start</li>
                        <li>Reverse primer: 5' end gets 3' restriction enzyme site (reverse complemented) + reverse complement of insert end</li>
                    </ul>
                </li>
                <li><strong>Optimize Template Binding Region:</strong>
                    <ul>
                        <li>Adjust length to achieve target Tm</li>
                        <li>Tm calculation includes restriction site contribution if substantial</li>
                    </ul>
                </li>
                <li><strong>Ensure Template Coverage:</strong>
                    <ul>
                        <li>Primers must extend from insert start to insert end</li>
                        <li>No internal insert sequence is skipped</li>
                    </ul>
                </li>
                <li><strong>Check for Internal Sites:</strong>
                    <ul>
                        <li>Ensure chosen restriction sites don't appear within insert (would create internal cuts)</li>
                        <li>If sites exist, choose different enzymes</li>
                    </ul>
                </li>
            </ol>

            <h3>Spacer Sequence</h3>
            <p>A short spacer (typically 1-2 bp) between restriction site and template binding region can improve restriction enzyme recognition and cutting efficiency. The tool handles spacer addition automatically.</p>

            <div class="info-box">
                <strong>Spacer Rationale:</strong>
                <ul style="margin: 8px 0 0 20px;">
                    <li>Improves restriction enzyme access to recognition site</li>
                    <li>Prevents polymerase from interfering with enzyme cutting</li>
                    <li>Typically NEB recommends 1-2 bases upstream of recognition site</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Quality Metrics</h2>
            
            <h3>Primer Quality Assessment</h3>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Description</th>
                        <th>Optimal Range</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Total Primer Length</strong></td>
                        <td>Full length including restriction site</td>
                        <td>25–50 bp</td>
                    </tr>
                    <tr>
                        <td><strong>Template Binding Tm</strong></td>
                        <td>Melting temperature of template-binding region only</td>
                        <td>Target ± 2°C</td>
                    </tr>
                    <tr>
                        <td><strong>Overall Primer Tm</strong></td>
                        <td>Melting temperature of entire primer</td>
                        <td>55–65°C typical</td>
                    </tr>
                    <tr>
                        <td><strong>GC Content</strong></td>
                        <td>Percentage of G and C bases</td>
                        <td>40–60%</td>
                    </tr>
                    <tr>
                        <td><strong>Hairpin</strong></td>
                        <td>Intramolecular secondary structure</td>
                        <td>ΔG &gt; -3 kcal/mol (weak/none)</td>
                    </tr>
                    <tr>
                        <td><strong>Restriction Site Integrity</strong></td>
                        <td>Recognition site preserved and correct orientation</td>
                        <td>Must be intact and correct</td>
                    </tr>
                    <tr>
                        <td><strong>Internal Sites</strong></td>
                        <td>Absence of internal restriction sites in insert</td>
                        <td>No internal sites in insert sequence</td>
                    </tr>
                </tbody>
            </table>

            <div class="warning-box">
                <strong>Critical Checks:</strong>
                <ul style="margin: 8px 0 0 20px;">
                    <li>Ensure restriction sites are NOT present internally within insert; this will cause unwanted cutting</li>
                    <li>Verify restriction sites are in correct orientation for the vector</li>
                    <li>Check template Tm matches target; restriction sites may contribute significantly to overall Tm</li>
                </ul>
            </div>
        </div>


        <div class="section">
            <h2>Restriction Enzyme Cloning Protocol</h2>
            
            <h3>Step 1: PCR Amplification</h3>
            <ul>
                <li><strong>Template:</strong> Insert DNA (plasmid, genomic, or synthetic)</li>
                <li><strong>Primers:</strong> Designed forward and reverse primers with restriction sites</li>
                <li><strong>Polymerase:</strong> High-fidelity (e.g., Phusion, Q5)</li>
                <li><strong>Conditions:</strong>
                    <ul>
                        <li>Annealing temperature: template-binding Tm (typically 50-65°C)</li>
                        <li>Extension time: ~1 min per 1000 bp</li>
                        <li>Cycles: 25-35</li>
                    </ul>
                </li>
                <li><strong>Product Verification:</strong> Run gel electrophoresis; product should match insert size + ~20 bp (restriction sites)</li>
            </ul>

            <h3>Step 2: Product Purification</h3>
            <ul>
                <li>Purify PCR product using spin column or gel extraction</li>
                <li>Remove polymerase, template, and unused primers</li>
                <li>Quantify DNA concentration (e.g., spectrophotometry)</li>
            </ul>

            <h3>Step 3: Restriction Enzyme Digestion</h3>
            <ul>
                <li><strong>Digest Insert:</strong>
                    <ul>
                        <li>PCR product + both restriction enzymes (in compatible buffer)</li>
                        <li>Incubate 1-2 hours at appropriate temperature (usually 37°C)</li>
                    </ul>
                </li>
                <li><strong>Digest Vector:</strong>
                    <ul>
                        <li>Vector DNA + same two restriction enzymes</li>
                        <li>Same incubation conditions</li>
                        <li>Optional: dephosphorylate vector (prevents self-ligation) using alkaline phosphatase</li>
                    </ul>
                </li>
                <li><strong>Inactivation:</strong> Heat inactivate enzymes if possible (check enzyme compatibility)</li>
            </ul>

            <h3>Step 4: Purification After Digestion</h3>
            <ul>
                <li>Purify digested insert and vector separately (or together if compatible buffer used)</li>
                <li>Removes enzymes and dephosphorylation reagents</li>
                <li>Gel extraction may be needed to separate vector from insert size</li>
            </ul>

            <h3>Step 5: Ligation</h3>
            <ul>
                <li><strong>Mix Components:</strong>
                    <ul>
                        <li>Vector: 50-100 ng</li>
                        <li>Insert: 3-10× molar excess over vector</li>
                        <li>T4 DNA Ligase: 400 U</li>
                        <li>Ligation buffer: 1× (typically included with ligase)</li>
                    </ul>
                </li>
                <li><strong>Incubation:</strong>
                    <ul>
                        <li>Room temperature 1-4 hours, OR</li>
                        <li>4°C overnight (improves efficiency)</li>
                    </ul>
                </li>
                <li><strong>Inactivation:</strong> 65°C for 10 minutes (if using T4 ligase with compatible buffer)</li>
            </ul>

            <h3>Step 6: Transformation</h3>
            <ul>
                <li>Transform ligation reaction into competent cells</li>
                <li>Can use 1-10 μL of ligation mix directly</li>
                <li>Plate on selective medium</li>
            </ul>

            <h3>Step 7: Verification</h3>
            <ul>
                <li><strong>Colony PCR:</strong> Quick screening using insert-specific primers</li>
                <li><strong>Restriction Digestion:</strong> Confirm presence of insert by cutting with restriction enzymes</li>
                <li><strong>Sequencing:</strong> Verify correct sequence and insert orientation</li>
            </ul>

            <div class="info-box">
                <strong>Optimization Tips:</strong>
                <ul style="margin: 8px 0 0 20px;">
                    <li>Maintain insert:vector molar ratio of 3:1 to 10:1</li>
                    <li>Higher insert excess reduces self-ligation</li>
                    <li>For difficult ligation, increase ligase concentration or reduce volume</li>
                    <li>Overnight ligation at 4°C often more efficient than room temperature</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Troubleshooting</h2>
            
            <h3>Common Issues</h3>
            <table>
                <thead>
                    <tr>
                        <th>Problem</th>
                        <th>Likely Cause</th>
                        <th>Solution</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>No PCR product</td>
                        <td>Primer design issue; restriction sites interfere</td>
                        <td>Verify primer Tm; check for secondary structures; try reduced annealing temperature</td>
                    </tr>
                    <tr>
                        <td>PCR product incorrect size</td>
                        <td>Wrong template; primer specificity issue</td>
                        <td>Verify template identity; design new primers for different region</td>
                    </tr>
                    <tr>
                        <td>Restriction digestion incomplete</td>
                        <td>Enzyme inactivation; glycerol inhibition; old enzymes</td>
                        <td>Use fresh enzymes; increase incubation time; check buffer pH</td>
                    </tr>
                    <tr>
                        <td>No colonies after transformation</td>
                        <td>Failed ligation; low transformation efficiency</td>
                        <td>Increase insert concentration; use fresh competent cells; improve ligation efficiency</td>
                    </tr>
                    <tr>
                        <td>All colonies are vector-only</td>
                        <td>Vector self-ligation; insert concentration too low</td>
                        <td>Dephosphorylate vector; increase insert:vector ratio; use high-insert ligation</td>
                    </tr>
                    <tr>
                        <td>Wrong insert orientation</td>
                        <td>Single enzyme cloning not directional</td>
                        <td>Use double enzyme cloning with different 5' and 3' enzymes</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Advantages and Limitations</h2>
            
            <h3>Advantages</h3>
            <ul>
                <li>Simple, reliable cloning method</li>
                <li>Directional cloning possible with different enzymes</li>
                <li>Works for inserts of any size</li>
                <li>No size limitations unlike Gibson or Golden Gate</li>
                <li>Low cost (only restriction enzymes and ligase needed)</li>
                <li>Well-established protocols and troubleshooting</li>
            </ul>

            <h3>Limitations</h3>
            <ul>
                <li>Requires internal restriction sites to be absent from insert</li>
                <li>Multiple cloning steps (digestion, purification, ligation)</li>
                <li>Longer turnaround time compared to seamless methods</li>
                <li>Leaves recognition site scars at junctions</li>
                <li>Single enzyme cloning requires orientation screening</li>
                <li>Not ideal for high-throughput applications</li>
            </ul>
        </div>

        <div class="version-info">
            <p><strong>Restriction Enzyme Cloning Module v1.0.1</strong></p>
            <p>Documentation for PrimerWeaver v1.1.11</p>
        </div>
    </div>
</body>
</html>